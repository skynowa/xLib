/**
 * \file   CxTest_CxImage.cpp
 * \brief
 */


#include <Test/Gui/Win/Gdi+/CxTest_CxImage.h>


#if xOS_ENV_WIN
//---------------------------------------------------------------------------
CxTest_CxImage::CxTest_CxImage() {

}
//---------------------------------------------------------------------------
CxTest_CxImage::~CxTest_CxImage() {

}
//---------------------------------------------------------------------------
/*virtual*/
bool
CxTest_CxImage::bUnit(
    const ulonglong_t cullBlockLoops
)
{
    /*DEBUG*/

    const std::tstring_t csInFilePath = sGetWorkDirPath() + CxConst::xSLASH + xT("Pic.bmp");

    CxGdiplus     m_gdiGdi;
    CxImage       m_imgImage;

    //-------------------------------------
    //prepare
    {
        const uchar_t cucInFileContent[]={
            0x42,0x4d,0xba,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x36,0x00,0x00,0x00,0x28,0x00,0x00,0x00,0x13,0x00,0x00,0x00,0x0f,0x00,0x00,0x00,0x01,0x00,0x18,0x00,0x00,0x00,
            0x00,0x00,0x84,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0x3f,0x50,0x4b,0x4a,0x4a,0x42,0x4c,0x42,0x54,
            0x40,0x40,0x4b,0x4a,0x4a,0x40,0x40,0x40,0x54,0x40,0x40,0x54,0x54,0x54,0x54,0x40,0x40,0x40,0x40,0x40,0x54,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x49,0x40,0x40,
            0x50,0x40,0x40,0x5d,0x60,0x60,0x50,0x44,0x50,0x4b,0x4a,0x4a,0x3f,0x3f,0x50,0x00,0x00,0x00,0x4b,0x4a,0x4a,0x43,0x48,0x42,0x40,0x40,0x60,0x50,0x50,0x40,0x40,0x40,
            0x40,0x40,0x40,0x40,0x50,0x44,0x50,0x50,0x44,0x50,0x50,0x44,0x50,0x40,0x40,0x40,0x49,0x40,0x40,0x54,0x54,0x54,0x59,0x40,0x60,0x50,0x44,0x50,0x40,0x40,0x40,0x54,
            0x54,0x54,0x51,0x49,0x43,0x4b,0x4a,0x4a,0x53,0x4d,0x53,0x00,0x00,0x00,0x51,0x40,0x40,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,
            0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,
            0x10,0x10,0x00,0x10,0x50,0x50,0x40,0x00,0x00,0x00,0x50,0x50,0x40,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,
            0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,
            0x43,0x48,0x42,0x00,0x00,0x00,0x43,0x48,0x42,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,
            0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x51,0x40,0x40,0x00,
            0x00,0x00,0x51,0x49,0x43,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,
            0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x54,0x54,0x54,0x00,0x00,0x00,0x5d,0x60,
            0x60,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,
            0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x54,0x54,0x54,0x00,0x00,0x00,0x50,0x44,0x50,0x10,0x00,0x10,
            0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,
            0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x49,0x40,0x40,0x00,0x00,0x00,0x54,0x40,0x40,0x10,0x00,0x10,0x10,0x00,0x10,0x10,
            0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,
            0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x51,0x49,0x43,0x00,0x00,0x00,0x54,0x54,0x54,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,
            0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,
            0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x54,0x54,0x54,0x00,0x00,0x00,0x14,0x14,0x50,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,
            0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,
            0x10,0x10,0x00,0x10,0x03,0x02,0x02,0x00,0x00,0x00,0x49,0x48,0x48,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,
            0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,
            0x49,0x48,0x42,0x00,0x00,0x00,0x51,0x40,0x40,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,
            0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x50,0x50,0x40,0x00,
            0x00,0x00,0x51,0x40,0x40,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,
            0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x10,0x00,0x10,0x43,0x48,0x42,0x00,0x00,0x00,0x4b,0x4a,
            0x4a,0x4b,0x4a,0x4a,0x54,0x40,0x40,0x41,0x4a,0x42,0x40,0x40,0x40,0x4b,0x4a,0x4a,0x43,0x42,0x02,0x49,0x48,0x48,0x54,0x40,0x40,0x50,0x44,0x50,0x49,0x40,0x40,0x49,
            0x48,0x42,0x54,0x54,0x54,0x49,0x49,0x61,0x42,0x4a,0x42,0x49,0x40,0x40,0x40,0x54,0x40,0x50,0x50,0x40,0x54,0x54,0x54,0x00,0x00,0x00
        };

        std::ustring_t usInFileContent;

        usInFileContent.assign(cucInFileContent, xARRAY_SIZE(cucInFileContent));

        m_bRes = CxFile::bBinWrite(csInFilePath, usInFileContent);
        xTEST_DIFF(false, m_bRes);
    }

    //-------------------------------------
    //bLoad
    {
        m_bRes = m_imgImage.bLoad(csInFilePath);
        xTEST_DIFF(false, m_bRes);
    }

    //-------------------------------------
    //bLoad
    {
        //m_bRes = m_imgImage.bLoad(IStream *pstStream);
    }

    //-------------------------------------
    //bSave
    {
        m_bRes = m_imgImage.bSave(sGetWorkDirPath() + CxConst::xSLASH + xT("Test1.Saved.bmp"), CxImage::etBmp);
        xTEST_DIFF(false, m_bRes);

        m_bRes = m_imgImage.bSave(sGetWorkDirPath() + CxConst::xSLASH + xT("Test1.Saved.jpeg"), CxImage::etJpeg);
        xTEST_DIFF(false, m_bRes);

        m_bRes = m_imgImage.bSave(sGetWorkDirPath() + CxConst::xSLASH + xT("Test1.Saved.gif"), CxImage::etGif);
        xTEST_DIFF(false, m_bRes);

        m_bRes = m_imgImage.bSave(sGetWorkDirPath() + CxConst::xSLASH + xT("Test1.Saved.tiff"), CxImage::etTiff);
        xTEST_DIFF(false, m_bRes);

        m_bRes = m_imgImage.bSave(sGetWorkDirPath() + CxConst::xSLASH + xT("Test1.Saved.png"), CxImage::etPng);
        xTEST_DIFF(false, m_bRes);
    }

    //-------------------------------------
    //bSave
    {
        //m_bRes = m_imgImage.bSave(IStream *pstStream);
    }

    //-------------------------------------
    //bDraw
    {
        //m_bRes = m_imgImage.bDraw(HDC hDC, const RECT &crcRect);
    }

    //-------------------------------------
    //bDraw
    {
        //m_bRes = m_imgImage.bDraw(HDC hDC, int iLeft, int iTop, int iWidth, int iHeight);
    }

    //-------------------------------------
    //bClear
    {
        //m_bRes = m_imgImage.bClear(HDC hDC, const RECT &crcRect, Gdiplus::Color clBackGround);
    }

    //-------------------------------------
    //bDestroy
    {
        //m_bRes = m_imgImage.bDestroy(HDC hDC, Gdiplus::Color clBackGround);
    }

    return true;
}
//---------------------------------------------------------------------------
#endif
